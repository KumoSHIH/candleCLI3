(function(e){function t(t){for(var a,c,u=t[0],s=t[1],i=t[2],d=0,l=[];d<u.length;d++)c=u[d],r[c]&&l.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},r={app:0},o=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0f201264":"22b2cead","chunk-1ba08fc4":"e72bcde7","chunk-2267faac":"d06deb70","chunk-27a3d42c":"a9408e8d","chunk-27d8a38c":"d7178927","chunk-2d0aed75":"ec59c8fe","chunk-2d0c1f07":"8da4333a","chunk-2d0f07d1":"3680a2d7","chunk-2d2371e0":"ef8b8c32","chunk-3c0dcb68":"72841478","chunk-4ffc1742":"8486936a","chunk-51fd2d0b":"d4628199","chunk-57d49f8b":"97f9df77","chunk-6187c14c":"5d036b44","chunk-7c111474":"9f3bacaa","chunk-7e6c9579":"5bc91d2e","chunk-d97332ec":"cf33c9ce"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-0f201264":1,"chunk-1ba08fc4":1,"chunk-2267faac":1,"chunk-27a3d42c":1,"chunk-27d8a38c":1,"chunk-3c0dcb68":1,"chunk-4ffc1742":1,"chunk-51fd2d0b":1,"chunk-57d49f8b":1,"chunk-6187c14c":1,"chunk-7c111474":1,"chunk-d97332ec":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-0f201264":"8ccdbc25","chunk-1ba08fc4":"fa82421d","chunk-2267faac":"05554a0d","chunk-27a3d42c":"ec079bdd","chunk-27d8a38c":"43ba7619","chunk-2d0aed75":"31d6cfe0","chunk-2d0c1f07":"31d6cfe0","chunk-2d0f07d1":"31d6cfe0","chunk-2d2371e0":"31d6cfe0","chunk-3c0dcb68":"39357e26","chunk-4ffc1742":"fcb9805a","chunk-51fd2d0b":"868e650f","chunk-57d49f8b":"a5937a98","chunk-6187c14c":"d67f64c1","chunk-7c111474":"0d965362","chunk-7e6c9579":"31d6cfe0","chunk-d97332ec":"bba97d7f"}[e]+".css",r=s.p+a,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var i=o[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===a||d===r))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){i=l[u],d=i.getAttribute("data-href");if(d===a||d===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete c[e],f.parentNode.removeChild(f),n(o)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){c[e]=0}));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise(function(t,n){a=r[e]=[t,n]});t.push(a[2]=o);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(e),i=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+a+": "+c+")");o.type=a,o.request=c,n[1](o)}r[e]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:d})},12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/candleCLI3/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1df8":function(e,t,n){},"56a6":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message-alert"},e._l(e.messages,function(t,a){return n("div",{key:a,staticClass:"candle-alert alert-dismissible",class:"alert-"+t.status},[n("i",{staticClass:"far fa-check-circle"}),n("span",{staticClass:"d-block mt-3"},[e._v(e._s(t.message))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.removeMessage(a)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}),0)},c=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),o=n("2f62");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(r["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var i={data:function(){return{}},computed:s({},Object(o["c"])("alertModules",["messages"])),methods:s({updateMessage:function(e,t){this.$store.dispatch("alertModules/updateMessage",{message:e,status:t})}},Object(o["b"])("alertModules",["removeMessage","removeMessageWithTiming"]))},d=i,l=(n("a7e1"),n("2877")),f=Object(l["a"])(d,a,c,!1,null,"db61b14c",null);t["a"]=f.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),c=n("2f62"),r=n("bc3a"),o=n.n(r),u=n("a7fe"),s=n.n(u),i=(n("4989"),n("9062")),d=n.n(i),l=(n("e40d"),n("1209")),f=n("7bb1"),h=n("427f"),p=n.n(h),m=n("a925"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},g=[],v={name:"App"},k=v,C=(n("5c0b"),n("2877")),O=Object(C["a"])(k,b,g,!1,null,null,null),y=O.exports,_=n("8c4f");a["a"].use(_["a"]);var L=new _["a"]({scrollBehavior:function(e,t,n){return n||("/bulletin"===e.path&&e.hash?{selector:e.hash}:{x:0,y:0})},routes:[{path:"*",redirect:"/"},{path:"/",name:"Layout",component:function(){return n.e("chunk-3c0dcb68").then(n.bind(null,"7138"))},children:[{path:"/",name:"Home",component:function(){return n.e("chunk-6187c14c").then(n.bind(null,"ec5a"))}},{path:"list",name:"List",component:function(){return n.e("chunk-1ba08fc4").then(n.bind(null,"925b"))}},{path:"item_page/:itemID",name:"ItemPage",component:function(){return n.e("chunk-57d49f8b").then(n.bind(null,"d729"))}},{path:"cart",name:"Cart",component:function(){return n.e("chunk-27a3d42c").then(n.bind(null,"62b3"))}},{path:"cart_address",name:"CartAddress",component:function(){return n.e("chunk-0f201264").then(n.bind(null,"9ba8"))}},{path:"cart_pay/:orderID",name:"CartPay",component:function(){return n.e("chunk-2d2371e0").then(n.bind(null,"fa6e"))}},{path:"cart_fin",name:"CartFin",component:function(){return n.e("chunk-4ffc1742").then(n.bind(null,"84a0"))}},{path:"bulletin",name:"Bulletin",component:function(){return n.e("chunk-51fd2d0b").then(n.bind(null,"2fb6"))}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-2267faac").then(n.bind(null,"ac5b"))}},{path:"/controller",name:"Controller",component:function(){return n.e("chunk-d97332ec").then(n.bind(null,"99d2"))}},{path:"/admin",name:"Dashboard",component:function(){return n.e("chunk-2d0aed75").then(n.bind(null,"0c7c"))},children:[{path:"products",name:"Products",component:function(){return n.e("chunk-7e6c9579").then(n.bind(null,"372d"))},meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:function(){return n.e("chunk-27d8a38c").then(n.bind(null,"0d5f"))},meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:function(){return n.e("chunk-7c111474").then(n.bind(null,"73a8"))},meta:{requiresAuth:!0}}]},{path:"/",name:"Dashboard",component:function(){return n.e("chunk-2d0aed75").then(n.bind(null,"0c7c"))},children:[{path:"customer_order",name:"CustomerOrder",component:function(){return n.e("chunk-2d0c1f07").then(n.bind(null,"47d2"))}},{path:"customer_checkout/:orderID",name:"CustomerCheckout",component:function(){return n.e("chunk-2d0f07d1").then(n.bind(null,"9d1a"))}}]}]}),M=(n("a481"),n("c5f6"),function(e){var t=Number(e);return"$".concat(t.toFixed(0).replace(/./g,function(e,t,n){var a=t&&"."!==e&&(n.length-t)%3===0?", ".concat(e).replace(/\s/g,""):e;return a}))}),A=function(e){var t=new Date(1e3*e);return t.toLocaleString()},w=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"wrap"},[n("div",{staticClass:"candle"},[e._v("L\n      "),n("div",{staticClass:"fire"})]),n("div",{staticClass:"candle"},[e._v("O\n      "),n("div",{staticClass:"fire"})]),n("div",{staticClass:"candle"},[e._v("A\n      "),n("div",{staticClass:"fire"})]),n("div",{staticClass:"candle"},[e._v("D\n      "),n("div",{staticClass:"fire"})]),n("div",{staticClass:"candle"},[e._v("i\n      "),n("div",{staticClass:"fire"})]),n("div",{staticClass:"candle"},[e._v("N\n      "),n("div",{staticClass:"fire"})]),n("div",{staticClass:"candle"},[e._v("G\n      "),n("div",{staticClass:"fire"})])])])}],j=(n("63b4"),{}),D=Object(C["a"])(j,w,E,!1,null,"fb932218",null),P=D.exports,S=n("56a6"),T=(n("1c4c"),n("ac6a"),n("5df3"),n("4f7f"),{namespaced:!0,state:{products:[],categories:[]},actions:{getProduct:function(e){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("candle","/products/all");e.commit("LOADING",!0,{root:!0}),o.a.get(t).then(function(t){e.commit("PRODUCTS",t.data.products),e.commit("CATEGORIES",t.data.products),e.commit("LOADING",!1,{root:!0})})}},mutations:{PRODUCTS:function(e,t){e.products=t},CATEGORIES:function(e,t){var n=new Set;t.forEach(function(e){n.add(e.category)}),e.categories=Array.from(n)}},getters:{categories:function(e){return e.categories},products:function(e){return e.products}}}),G={namespaced:!0,state:{cart:[],cartLength:0},actions:{getCart:function(e){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("candle","/cart");e.commit("LOADING",!0,{root:!0}),o.a.get(t).then(function(t){e.commit("CART",t.data.data),e.commit("CART_LENGTH",t.data.data.carts.length),e.commit("LOADING",!1,{root:!0})})},addCart:function(e,t){var n=t.id,a=t.qty,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("candle","/cart"),r={product_id:n,qty:a};e.commit("LOADING",!0,{root:!0}),o.a.post(c,{data:r}).then(function(t){e.dispatch("getCart"),e.dispatch("alertModules/updateMessage",{message:t.data.message,status:"success"},{root:!0}),e.commit("LOADING",!1,{root:!0})})},delCart:function(e,t){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("candle","/cart/").concat(t);e.commit("LOADING",!0,{root:!0}),o.a.delete(n).then(function(t){e.dispatch("alertModules/updateMessage",{message:"已刪除商品",status:"danger"},{root:!0}),e.dispatch("getCart"),e.commit("LOADING",!1,{root:!0})})}},mutations:{CART:function(e,t){e.cart=t},CART_LENGTH:function(e,t){e.cartLength=t}},getters:{cart:function(e){return e.cart},cartLength:function(e){return e.cartLength}}},N=n("75fc"),I={namespaced:!0,state:{messages:[]},actions:{updateMessage:function(e,t){var n=t.message,a=t.status,c=Math.floor(new Date/1e3);e.commit("PUSH_MSG",{message:n,status:a,timestamp:c}),e.dispatch("removeMessageWithTiming",c)},removeMessage:function(e){e.commit("REMOVE_MSG")},removeMessageWithTiming:function(e,t){var n=Object(N["a"])(e.state.messages);setTimeout(function(){n.forEach(function(n,a){n.timestamp===t&&e.commit("REMOVE_MSG",a)})},2e3)}},mutations:{PUSH_MSG:function(e,t){e.messages.push(t)},REMOVE_MSG:function(e,t){e.messages.splice(t,1)}},getters:{messages:function(e){return e.messages}}};a["a"].use(c["a"]);var x=new c["a"].Store({strict:!0,state:{isLoading:!1},actions:{updateLoading:function(e,t){e.commit("LOADING",t)}},mutations:{LOADING:function(e,t){e.isLoading=t}},getters:{isLoading:function(e){return e.isLoading}},modules:{productsModules:T,cartModules:G,alertModules:I}});a["a"].config.productionTip=!1,a["a"].use(s.a,o.a),o.a.defaults.withCredentials=!0,a["a"].use(m["a"]),a["a"].component("Alert",S["a"]),a["a"].component("Loading",d.a),a["a"].component("CandleLoading",P),a["a"].filter("currency",M),a["a"].filter("date",A),a["a"].use(c["a"]),a["a"].use(l["a"]);var R=new m["a"]({locale:"zhTW"});a["a"].use(f["a"],{i18n:R,events:"input|blur",dictionary:{zhTW:p.a}}),new a["a"]({router:L,store:x,render:function(e){return e(y)}}).$mount("#app"),L.beforeEach(function(e,t,n){if(e.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");o.a.post(a).then(function(e){console.log(e.data),e.data.success?n():n({path:"/login"})})}else n()})},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),c=n.n(a);c.a},"5e27":function(e,t,n){},"63b4":function(e,t,n){"use strict";var a=n("1df8"),c=n.n(a);c.a},6665:function(e,t,n){},a7e1:function(e,t,n){"use strict";var a=n("6665"),c=n.n(a);c.a}});
//# sourceMappingURL=app.42acf6d5.js.map